{"groupDetails":{"description":"Monitor a GIT repository and validate PRs, raising JIRA bug and twitter notification if errors found","endpoints":[{"description":"Endpoint to change status of a commit on a PR","consumerOptions":{},"producerOptions":{"username":"sceptademo","password":".overlord1","repoOwner":"sceptademo","repoName":"scepta-test"},"characteristics":[],"uri":"github://pullRequestState","dependencies":[],"name":"gitprstate"},{"description":"Endpoint to get a file associated with a commit","consumerOptions":{},"producerOptions":{"username":"sceptademo","password":".overlord1","repoOwner":"sceptademo","repoName":"scepta-test"},"characteristics":[],"uri":"github://file","dependencies":[],"name":"gitfile"},{"description":"Endpoint to change status of a commit on a PR","consumerOptions":{},"producerOptions":{"username":"sceptademo","password":".overlord1","repoOwner":"sceptademo","repoName":"scepta-test"},"characteristics":[],"uri":"github://pullRequestState","dependencies":[],"name":"gitprstate"},{"description":"Endpoint to get files associated with a PR","consumerOptions":{},"producerOptions":{"username":"sceptademo","password":".overlord1","repoOwner":"sceptademo","repoName":"scepta-test"},"characteristics":[],"uri":"github://pullRequestFiles","dependencies":[],"name":"gitprfiles"},{"description":"Monitor a git PR.","consumerOptions":{"username":"sceptademo","password":".overlord1","repoOwner":"sceptademo","repoName":"scepta-test"},"producerOptions":{},"characteristics":[],"uri":"github://pullRequest","dependencies":[],"name":"gitpr"},{"description":"Endpoint to comment on PR.","consumerOptions":{},"producerOptions":{"username":"sceptademo","password":".overlord1","repoOwner":"sceptademo","repoName":"scepta-test"},"characteristics":[],"uri":"github://pullRequestComment","dependencies":[],"name":"gitprcomment"},{"description":"Endpoint to close a PR","consumerOptions":{},"producerOptions":{"username":"sceptademo","password":".overlord1","repoOwner":"sceptademo","repoName":"scepta-test"},"characteristics":[],"uri":"github://closePullRequest","dependencies":[],"name":"gitprclose"}],"name":"MonitorGITPR"},"policyDetails":[{"description":"This policy will validate a GIT PR.","dependencies":[],"name":"ValidatePR","resources":[]}],"policyDefinitions":{"ValidatePR":"<route id=\"ValidatePR\">\n\t<from uri=\"scepta:gitpr\"/>\n\t<to uri=\"scepta:gitprfiles\" />\n\t<split parallelProcessing=\"true\">\n\t\t<simple>${body}</simple>\n\t\t<log message=\"Processing item ${body}\" />\n        <choice>\n        \t<when>\n            \t<simple>${body.filename.endsWith(\".wsdl\")}</simple>\n\t\t\t\t<to uri=\"direct:ValidateWSDL\" />\n            </when>\n        </choice>\n\t</split>\n\t<transform>\n\t\t<simple>Validated changes for PR #${header.GitHubPullRequest}</simple>\n\t</transform>\n\t<to uri=\"scepta:gitprstate?state=success\"/>\n</route>\n\n<route id=\"ValidateWSDL\" >\n\t<from uri=\"direct:ValidateWSDL\" />\n    <to uri=\"scepta:gitfile\" />\n    <log message=\"WSDL File contents: ${body}\" />\n</route>"},"resourceDefinitions":{}}